<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="author" content="智能社 - zhinengshe.com">
<meta name="copyright" content="智能社 - zhinengshe.com">
<title>智能社 - www.zhinengshe.com</title>
<style>
	*{margin:0;padding:0;}
	li{ list-style:none;}
	body{ border:1px solid red;}
	#box{width:966px; margin:0 auto;}
	#box ul{ float:left; width:300px; margin:0 10px; border:1px solid red;}
	#box ul li{width:100%;margin:10px 0; background:#ccc; height:150px;}
</style>
<script>
	function rnd(m,n){
		return parseInt(m+Math.random()*(n-m));	
	}

	function createLi(){
		var oLi = document.createElement('li');
		oLi.style.height = rnd(150,351)+'px';
		oLi.style.background = 'rgb('+rnd(0,256)+','+rnd(0,256)+','+rnd(0,256)+')';
		return oLi;	
	}
	
	window.onload = function(){
		var oBox = document.getElementById('box');
		var aUl = oBox.getElementsByTagName('ul');
		//1.随机生成20个li
			function createLis(){
				for(var i = 0;i<20;i++){
					var oLi = createLi();
					var arr = [];
					for(var j = 0;j<aUl.length;j++){
						arr.push(aUl[j]);
					}
					
					arr.sort(function(ul1,ul2){
						return ul1.offsetHeight - ul2.offsetHeight;
					});
					//[ul0,ul1,ul2]
					arr[0].appendChild(oLi);
				}
			}
			createLis();
			window.onscroll = function(){
				var sT = document.documentElement.scrollTop||document.body.scrollTop;
				///??
				console.log(sT,document.body.offsetHeight,
				document.documentElement.clientHeight);
				if(sT == document.body.scrollHeight -document.documentElement.clientHeight){
					createLis();
					//alert('到底了！');
				}
			};
	};
</script>
</head>
<body> 
	<div id="box">
    	<ul>
        </ul>
    	<ul>
        </ul>
    	<ul>
        </ul>
    </div>
</body>
</html>
