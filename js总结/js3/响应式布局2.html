<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="author" content="智能社 - zhinengshe.com">
<meta name="copyright" content="智能社 - zhinengshe.com">
<title>智能社 - www.zhinengshe.com</title>
<style>
	*{margin:0;padding:0;} 
	li{ list-style:none;}
	#ul1 li{ width:12.5%; height:100px; line-height:100px; text-align:center;  color:#fff; background:red; float:left;}
	#ul1 li.w25{ width:25%;}
	#ul1 li.w50{ width:50%;}
</style>
<script>
	function rnd(m,n){
		return parseInt(m+Math.random()*(n-m));
	}
	window.onload = window.onresize = function(){
		var oUl = document.getElementById('ul1');
		var aLi = oUl.getElementsByTagName('li');
		for(var i = 0;i<aLi.length;i++)	{
			aLi[i].style.background = 'rgb('+rnd(0,256)+','+rnd(0,256)+','+rnd(0,256)+')';	
		}
		//做判断
		var w = document.documentElement.clientWidth;
			for(var i = 0;i<aLi.length;i++){
				if(w>1200){
					aLi[i].className = '';
				}else if(w>800&&w<=1200){
					aLi[i].className = 'w25';	
				}else{
					aLi[i].className = 'w50';	
				}
			}
	};
</script>
</head>
<body>
	<ul id="ul1">
    	<li>1</li>
    	<li>2</li>
    	<li>3</li>
    	<li>4</li>
    	<li>5</li>
    	<li>6</li>
    	<li>7</li>
        <li>8</li>
   	</ul>
</body>
</html>
